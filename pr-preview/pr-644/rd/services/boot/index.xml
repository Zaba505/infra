<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Boot Service on Zaba505's Home Lab</title><link>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/</link><description>Recent content in Boot Service on Zaba505's Home Lab</description><generator>Hugo</generator><language>en-us</language><atom:link href="https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/index.xml" rel="self" type="application/rss+xml"/><item><title>GET /boot.ipxe</title><link>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/boot-ipxe/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/boot-ipxe/</guid><description>&lt;p&gt;Serves iPXE boot scripts customized for the requesting machine based on its MAC address. This endpoint is accessed by bare metal servers (HP DL360 Gen 9) during the UEFI HTTP boot process through the WireGuard VPN tunnel.&lt;/p&gt;
&lt;h2 id="sequence-diagram"&gt;Sequence Diagram&lt;/h2&gt;
&lt;pre class="mermaid"&gt;sequenceDiagram
 participant Client as Bare Metal Server
 participant Boot as Boot Service
 participant MachineAPI as Machine Service
 participant DB as Firestore

 Client-&amp;gt;&amp;gt;Boot: GET /boot.ipxe?mac=52:54:00:12:34:56
 Boot-&amp;gt;&amp;gt;Boot: Validate MAC address format
 Boot-&amp;gt;&amp;gt;MachineAPI: GET /api/v1/machines?mac=52:54:00:12:34:56
 MachineAPI-&amp;gt;&amp;gt;DB: Query machine by NIC MAC
 DB--&amp;gt;&amp;gt;MachineAPI: Machine profile (machine_id)
 MachineAPI--&amp;gt;&amp;gt;Boot: Machine profile
 Boot-&amp;gt;&amp;gt;DB: Query boot profile by machine_id
 DB--&amp;gt;&amp;gt;Boot: Boot profile (profile_id, kernel_id, initrd_id, kernel args)
 Boot-&amp;gt;&amp;gt;Boot: Generate iPXE script with profile_id
 Boot--&amp;gt;&amp;gt;Client: 200 OK (iPXE script)&lt;/pre&gt;
&lt;h2 id="request"&gt;Request&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Query Parameters:&lt;/strong&gt;&lt;/p&gt;</description></item><item><title>GET /asset/{boot_profile_id}/kernel</title><link>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/asset-kernel/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/asset-kernel/</guid><description>&lt;p&gt;Streams kernel images from Cloud Storage for the boot process. This endpoint is accessed by bare metal servers during UEFI HTTP boot through the WireGuard VPN tunnel.&lt;/p&gt;
&lt;h2 id="sequence-diagram"&gt;Sequence Diagram&lt;/h2&gt;
&lt;pre class="mermaid"&gt;sequenceDiagram
 participant Client as Bare Metal Server
 participant Boot as Boot Service
 participant Storage as Cloud Storage
 participant DB as Firestore

 Client-&amp;gt;&amp;gt;Boot: GET /asset/018c7dbd-a1b2-7000-8000-987654321def/kernel
 Boot-&amp;gt;&amp;gt;Boot: Validate UUIDv7 format
 Boot-&amp;gt;&amp;gt;DB: Query boot profile by ID
 DB--&amp;gt;&amp;gt;Boot: Boot profile (kernel_id)
 Boot-&amp;gt;&amp;gt;Storage: GET gs://bucket/blobs/{kernel_id}
 Storage--&amp;gt;&amp;gt;Boot: Kernel data stream
 Boot--&amp;gt;&amp;gt;Client: 200 OK (kernel stream)&lt;/pre&gt;
&lt;h2 id="request"&gt;Request&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Path Parameters:&lt;/strong&gt;&lt;/p&gt;</description></item><item><title>GET /asset/{boot_profile_id}/initrd</title><link>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/asset-initrd/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/asset-initrd/</guid><description>&lt;p&gt;Streams initial ramdisk (initrd) images from Cloud Storage for the boot process. This endpoint is accessed by bare metal servers during UEFI HTTP boot through the WireGuard VPN tunnel.&lt;/p&gt;
&lt;h2 id="sequence-diagram"&gt;Sequence Diagram&lt;/h2&gt;
&lt;pre class="mermaid"&gt;sequenceDiagram
 participant Client as Bare Metal Server
 participant Boot as Boot Service
 participant Storage as Cloud Storage
 participant DB as Firestore

 Client-&amp;gt;&amp;gt;Boot: GET /asset/018c7dbd-a1b2-7000-8000-987654321def/initrd
 Boot-&amp;gt;&amp;gt;Boot: Validate UUIDv7 format
 Boot-&amp;gt;&amp;gt;DB: Query boot profile by ID
 DB--&amp;gt;&amp;gt;Boot: Boot profile (initrd_id)
 Boot-&amp;gt;&amp;gt;Storage: GET gs://bucket/blobs/{initrd_id}
 Storage--&amp;gt;&amp;gt;Boot: Initrd data stream
 Boot--&amp;gt;&amp;gt;Client: 200 OK (initrd stream)&lt;/pre&gt;
&lt;h2 id="request"&gt;Request&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Path Parameters:&lt;/strong&gt;&lt;/p&gt;</description></item><item><title>POST /api/v1/profiles</title><link>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/post-profiles/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/post-profiles/</guid><description>&lt;p&gt;Create a new boot profile for a machine. If the machine already has a boot profile, this operation will fail - use PUT to update instead.&lt;/p&gt;
&lt;h2 id="cloud-storage-structure"&gt;Cloud Storage Structure&lt;/h2&gt;
&lt;p&gt;Kernel and initrd binaries are stored in Google Cloud Storage using their UUIDv7 identifiers as object keys:&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;gs://{bucket}/blobs/{kernel_id}
gs://{bucket}/blobs/{initrd_id}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;For example:&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;gs://boot-server-blobs/blobs/018c7dbd-b100-7000-8000-123456789abc
gs://boot-server-blobs/blobs/018c7dbd-b200-7000-8000-987654321fed
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The UUIDv7 identifiers are generated server-side during upload, ensuring:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Globally unique object keys&lt;/li&gt;
&lt;li&gt;Time-ordered storage (UUIDv7 timestamp prefix)&lt;/li&gt;
&lt;li&gt;No namespace collisions between profiles&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="sequence-diagram"&gt;Sequence Diagram&lt;/h2&gt;
&lt;pre class="mermaid"&gt;sequenceDiagram
 participant Client as Admin Client
 participant Boot as Boot Service
 participant Storage as Cloud Storage
 participant DB as Firestore

 Client-&amp;gt;&amp;gt;Boot: POST /api/v1/profiles (multipart/form-data)
 Boot-&amp;gt;&amp;gt;DB: Check if machine already has a boot profile
 DB--&amp;gt;&amp;gt;Boot: No existing profile
 Boot-&amp;gt;&amp;gt;Boot: Generate UUIDv7 for profile
 Boot-&amp;gt;&amp;gt;Boot: Generate UUIDv7 for kernel blob
 Boot-&amp;gt;&amp;gt;Boot: Generate UUIDv7 for initrd blob
 Boot-&amp;gt;&amp;gt;Storage: PUT gs://bucket/blobs/{kernel_id}
 Storage--&amp;gt;&amp;gt;Boot: Kernel stored
 Boot-&amp;gt;&amp;gt;Storage: PUT gs://bucket/blobs/{initrd_id}
 Storage--&amp;gt;&amp;gt;Boot: Initrd stored
 Boot-&amp;gt;&amp;gt;DB: Store profile metadata (profile_id, kernel_id, initrd_id, machine_id)
 DB--&amp;gt;&amp;gt;Boot: Profile created
 Boot--&amp;gt;&amp;gt;Client: 201 Created (profile metadata with IDs)&lt;/pre&gt;
&lt;h2 id="request"&gt;Request&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Request Body (multipart/form-data):&lt;/strong&gt;&lt;/p&gt;</description></item><item><title>GET /api/v1/boot/{machine_id}/profile</title><link>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/get-profile/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/get-profile/</guid><description>&lt;p&gt;Retrieve the active boot profile for a specific machine.&lt;/p&gt;
&lt;h2 id="sequence-diagram"&gt;Sequence Diagram&lt;/h2&gt;
&lt;pre class="mermaid"&gt;sequenceDiagram
 participant Client as Admin Client
 participant Boot as Boot Service
 participant DB as Firestore

 Client-&amp;gt;&amp;gt;Boot: GET /api/v1/boot/{machine_id}/profile
 Boot-&amp;gt;&amp;gt;DB: Query active boot profile for machine
 DB--&amp;gt;&amp;gt;Boot: Boot profile
 Boot--&amp;gt;&amp;gt;Client: 200 OK (boot profile)&lt;/pre&gt;
&lt;h2 id="request"&gt;Request&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Path Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th&gt;Parameter&lt;/th&gt;
 &lt;th&gt;Type&lt;/th&gt;
 &lt;th&gt;Required&lt;/th&gt;
 &lt;th&gt;Description&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;code&gt;machine_id&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;string&lt;/td&gt;
 &lt;td&gt;Yes&lt;/td&gt;
 &lt;td&gt;Machine identifier (UUIDv7 format)&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Example Request:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-http" data-lang="http"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nf"&gt;GET&lt;/span&gt; &lt;span class="nn"&gt;/api/v1/boot/018c7dbd-c000-7000-8000-fedcba987654/profile&lt;/span&gt; &lt;span class="kr"&gt;HTTP&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="m"&gt;1.1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;Host&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="l"&gt;boot.example.com&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="response"&gt;Response&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Response (200 OK):&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;018c7dbd-a000-7000-8000-abcdef123456&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;machine_id&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;018c7dbd-c000-7000-8000-fedcba987654&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;kernel&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;018c7dbd-b100-7000-8000-123456789abc&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;args&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;console=tty0&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;console=ttyS0&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;ip=dhcp&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;initrd&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;018c7dbd-b200-7000-8000-987654321fed&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Error Responses:&lt;/strong&gt;&lt;/p&gt;</description></item><item><title>PUT /api/v1/boot/{machine_id}/profile</title><link>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/put-profile/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/put-profile/</guid><description>&lt;p&gt;Update the boot profile for a machine (replaces the existing profile).&lt;/p&gt;
&lt;h2 id="sequence-diagram"&gt;Sequence Diagram&lt;/h2&gt;
&lt;pre class="mermaid"&gt;sequenceDiagram
 participant Client as Admin Client
 participant Boot as Boot Service
 participant Storage as Cloud Storage
 participant DB as Firestore

 Client-&amp;gt;&amp;gt;Boot: PUT /api/v1/boot/{machine_id}/profile
 Boot-&amp;gt;&amp;gt;DB: Get current active profile
 DB--&amp;gt;&amp;gt;Boot: Current profile (old kernel_id, old initrd_id)
 Boot-&amp;gt;&amp;gt;Boot: Generate UUIDs for new kernel/initrd
 Boot-&amp;gt;&amp;gt;Storage: PUT new kernel/initrd blobs
 Storage--&amp;gt;&amp;gt;Boot: Blobs stored
 Boot-&amp;gt;&amp;gt;DB: Update boot profile (replace kernel_id, initrd_id, args)
 DB--&amp;gt;&amp;gt;Boot: Profile updated
 Boot-&amp;gt;&amp;gt;Storage: DELETE old kernel/initrd blobs
 Boot--&amp;gt;&amp;gt;Client: 200 OK (updated profile)&lt;/pre&gt;
&lt;h2 id="request"&gt;Request&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Path Parameters:&lt;/strong&gt;&lt;/p&gt;</description></item><item><title>DELETE /api/v1/boot/{machine_id}/profile</title><link>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/delete-profile/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/delete-profile/</guid><description>&lt;p&gt;Delete a machine&amp;rsquo;s boot profile and its associated blobs.&lt;/p&gt;
&lt;h2 id="sequence-diagram"&gt;Sequence Diagram&lt;/h2&gt;
&lt;pre class="mermaid"&gt;sequenceDiagram
 participant Client as Admin Client
 participant Boot as Boot Service
 participant Storage as Cloud Storage
 participant DB as Firestore

 Client-&amp;gt;&amp;gt;Boot: DELETE /api/v1/boot/{machine_id}/profile
 Boot-&amp;gt;&amp;gt;DB: Get kernel_id and initrd_id
 DB--&amp;gt;&amp;gt;Boot: Blob IDs
 Boot-&amp;gt;&amp;gt;Storage: DELETE gs://bucket/blobs/{kernel_id}
 Boot-&amp;gt;&amp;gt;Storage: DELETE gs://bucket/blobs/{initrd_id}
 Boot-&amp;gt;&amp;gt;DB: Delete boot profile
 Boot--&amp;gt;&amp;gt;Client: 204 No Content&lt;/pre&gt;
&lt;h2 id="request"&gt;Request&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Path Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th&gt;Parameter&lt;/th&gt;
 &lt;th&gt;Type&lt;/th&gt;
 &lt;th&gt;Required&lt;/th&gt;
 &lt;th&gt;Description&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;code&gt;machine_id&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;string&lt;/td&gt;
 &lt;td&gt;Yes&lt;/td&gt;
 &lt;td&gt;Machine identifier (UUIDv7 format)&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Example Request:&lt;/strong&gt;&lt;/p&gt;</description></item><item><title>GET /health/startup</title><link>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/health-startup/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/health-startup/</guid><description>&lt;p&gt;Indicates whether the application has completed initialization and is ready to receive traffic.&lt;/p&gt;
&lt;h2 id="request"&gt;Request&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Request Example:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-http" data-lang="http"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nf"&gt;GET&lt;/span&gt; &lt;span class="nn"&gt;/health/startup&lt;/span&gt; &lt;span class="kr"&gt;HTTP&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="m"&gt;1.1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;Host&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="l"&gt;boot.example.com&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="response"&gt;Response&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Response (200 OK):&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Empty response body with HTTP 200 status code.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Response (503 Service Unavailable):&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Empty response body with HTTP 503 status code.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Response Headers:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Cache-Control: no-cache, no-store, must-revalidate&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="startup-check-components"&gt;Startup Check Components&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Firestore Connection&lt;/strong&gt; - Verifies database connectivity&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cloud Storage Access&lt;/strong&gt; - Validates access to boot image buckets&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="cloud-run-configuration"&gt;Cloud Run Configuration&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;startupProbe&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;httpGet&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;/health/startup&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;port&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;8080&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;initialDelaySeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;timeoutSeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;30&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;periodSeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;failureThreshold&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="behavior"&gt;Behavior&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Success (200)&lt;/strong&gt;: Application is fully initialized and ready to serve requests&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Failure (503)&lt;/strong&gt;: Application is still starting up or encountered initialization errors&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Timeout&lt;/strong&gt;: After 30 seconds of no response, Cloud Run considers startup failed&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="observability"&gt;Observability&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Metrics:&lt;/strong&gt;&lt;/p&gt;</description></item><item><title>GET /health/liveness</title><link>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/health-liveness/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://zaba505.github.io/infra/pr-preview/pr-644/rd/services/boot/health-liveness/</guid><description>&lt;p&gt;Indicates whether the application is alive and healthy. Used by Cloud Run to detect and restart unhealthy instances.&lt;/p&gt;
&lt;h2 id="request"&gt;Request&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Request Example:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-http" data-lang="http"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nf"&gt;GET&lt;/span&gt; &lt;span class="nn"&gt;/health/liveness&lt;/span&gt; &lt;span class="kr"&gt;HTTP&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="m"&gt;1.1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;Host&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="l"&gt;boot.example.com&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="response"&gt;Response&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Response (200 OK):&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Empty response body with HTTP 200 status code.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Response (503 Service Unavailable):&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Empty response body with HTTP 503 status code.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Response Headers:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Cache-Control: no-cache, no-store, must-revalidate&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="liveness-check-components"&gt;Liveness Check Components&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;HTTP Server Health&lt;/strong&gt; - Verifies the HTTP server is responsive&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Basic health validation&lt;/strong&gt; - Ensures the application can handle requests&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="cloud-run-configuration"&gt;Cloud Run Configuration&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;livenessProbe&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;httpGet&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;/health/liveness&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;port&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;8080&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;initialDelaySeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;timeoutSeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;30&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;periodSeconds&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;failureThreshold&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="behavior"&gt;Behavior&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Success (200)&lt;/strong&gt;: Application is healthy and functioning normally&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Failure (503)&lt;/strong&gt;: Application is unhealthy and should be restarted&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Consecutive Failures&lt;/strong&gt;: After 3 consecutive failures (30 seconds), Cloud Run restarts the instance&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="graceful-degradation"&gt;Graceful Degradation&lt;/h2&gt;
&lt;p&gt;The health check is designed with graceful degradation in mind:&lt;/p&gt;</description></item></channel></rss>